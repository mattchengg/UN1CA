From 4463d74624598458ec43f2892eeca8b96a9177eb Mon Sep 17 00:00:00 2001
From: utkustnr <utkuustuner@proton.me>
Date: Fri, 24 Oct 2025 15:11:39 +0200
Subject: [PATCH] Allow app target SDK bypass

---
 .../server/pm/InstallPackageHelper.smali      | 599 +++++++++---------
 1 file changed, 309 insertions(+), 290 deletions(-)

diff --git a/smali_classes2/com/android/server/pm/InstallPackageHelper.smali b/smali_classes2/com/android/server/pm/InstallPackageHelper.smali
index d8893e3df..b8f5f4e2f 100644
--- a/smali_classes2/com/android/server/pm/InstallPackageHelper.smali
+++ b/smali_classes2/com/android/server/pm/InstallPackageHelper.smali
@@ -15758,7 +15758,7 @@
 
     move-result v0
 
-    if-nez v0, :cond_90
+    if-nez v0, :cond_91
 
     const/high16 v0, 0x1000000
 
@@ -15771,21 +15771,40 @@
     goto :goto_11
 
     :cond_15
+    iget-object v0, v1, Lcom/android/server/pm/InstallPackageHelper;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+
+    move-result-object v0
+
+    const-string v14, "unica_allow_sdkbypass"
+
+    invoke-static {v0, v14, v9}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
+
+    move-result v0
+
+    if-eqz v0, :cond_16
+
+    move/from16 v0, v25
+
+    goto :goto_11
+
+    :cond_16
     move v0, v9
 
     :goto_11
-    if-nez v0, :cond_16
+    if-nez v0, :cond_17
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isTestOnly()Z
 
     move-result v14
 
-    if-eqz v14, :cond_16
+    if-eqz v14, :cond_17
 
     move/from16 v0, v25
 
-    :cond_16
-    if-nez v0, :cond_18
+    :cond_17
+    if-nez v0, :cond_19
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getTargetSdkVersion()I
 
@@ -15793,11 +15812,11 @@
 
     sget v14, Lcom/android/server/pm/PackageManagerService;->MIN_INSTALLABLE_TARGET_SDK:I
 
-    if-lt v0, v14, :cond_17
+    if-lt v0, v14, :cond_18
 
     goto :goto_12
 
-    :cond_17
+    :cond_18
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -15848,11 +15867,11 @@
 
     throw v0
 
-    :cond_18
+    :cond_19
     :goto_12
     const/16 v14, -0x74
 
-    if-eqz v11, :cond_1b
+    if-eqz v11, :cond_1c
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getTargetSdkVersion()I
 
@@ -15860,17 +15879,17 @@
 
     const/16 v3, 0x1a
 
-    if-lt v0, v3, :cond_1a
+    if-lt v0, v3, :cond_1b
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getSharedUserId()Ljava/lang/String;
 
     move-result-object v0
 
-    if-nez v0, :cond_19
+    if-nez v0, :cond_1a
 
     goto :goto_13
 
-    :cond_19
+    :cond_1a
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -15903,7 +15922,7 @@
 
     throw v0
 
-    :cond_1a
+    :cond_1b
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -15936,7 +15955,7 @@
 
     throw v0
 
-    :cond_1b
+    :cond_1c
     :goto_13
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isStaticSharedLibrary()Z
 
@@ -15944,15 +15963,15 @@
 
     const/16 v3, -0x13
 
-    if-eqz v0, :cond_1d
+    if-eqz v0, :cond_1e
 
     invoke-static {v7}, Lcom/android/server/pm/PackageManagerService;->renameStaticSharedLibraryPackage(Lcom/android/internal/pm/parsing/pkg/ParsedPackage;)V
 
-    if-nez v10, :cond_1c
+    if-nez v10, :cond_1d
 
     goto :goto_14
 
-    :cond_1c
+    :cond_1d
     const-string/jumbo v0, "PackageManager"
 
     const-string/jumbo v1, "Static shared libs can only be installed on internal storage."
@@ -15967,7 +15986,7 @@
 
     throw v0
 
-    :cond_1d
+    :cond_1e
     :goto_14
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPackageName()Ljava/lang/String;
 
@@ -15977,7 +15996,7 @@
 
     sget-boolean v0, Lcom/samsung/android/rune/CoreRune;->SYSFW_APP_SPEG:Z
 
-    if-eqz v0, :cond_1f
+    if-eqz v0, :cond_20
 
     const-string/jumbo v0, "com.samsung.speg"
 
@@ -15985,11 +16004,11 @@
 
     move-result v0
 
-    if-nez v0, :cond_1e
+    if-nez v0, :cond_1f
 
     goto :goto_15
 
-    :cond_1e
+    :cond_1f
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     const/16 v1, -0x6a
@@ -16000,7 +16019,7 @@
 
     throw v0
 
-    :cond_1f
+    :cond_20
     :goto_15
     sget-object v0, Lcom/android/server/pm/PersonaServiceHelper;->ALLOWED_BLUETOOTH_TARGET:Ljava/util/List;
 
@@ -16020,21 +16039,21 @@
 
     move-result v0
 
-    if-nez v0, :cond_8f
+    if-nez v0, :cond_90
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isTestOnly()Z
 
     move-result v0
 
-    if-eqz v0, :cond_21
+    if-eqz v0, :cond_22
 
     and-int/lit8 v0, v6, 0x4
 
-    if-eqz v0, :cond_20
+    if-eqz v0, :cond_21
 
     goto :goto_16
 
-    :cond_20
+    :cond_21
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     const/16 v1, -0xf
@@ -16045,29 +16064,29 @@
 
     throw v0
 
-    :cond_21
+    :cond_22
     :goto_16
     iget-object v0, v2, Lcom/android/server/pm/InstallRequest;->mInstallArgs:Lcom/android/server/pm/InstallArgs;
 
-    if-nez v0, :cond_22
+    if-nez v0, :cond_23
 
     sget-object v14, Landroid/content/pm/SigningDetails;->UNKNOWN:Landroid/content/pm/SigningDetails;
 
     goto :goto_17
 
-    :cond_22
+    :cond_23
     iget-object v14, v0, Lcom/android/server/pm/InstallArgs;->mSigningDetails:Landroid/content/pm/SigningDetails;
 
     :goto_17
     sget-object v4, Landroid/content/pm/SigningDetails;->UNKNOWN:Landroid/content/pm/SigningDetails;
 
-    if-eq v14, v4, :cond_24
+    if-eq v14, v4, :cond_25
 
-    if-nez v0, :cond_23
+    if-nez v0, :cond_24
 
     goto :goto_18
 
-    :cond_23
+    :cond_24
     iget-object v4, v0, Lcom/android/server/pm/InstallArgs;->mSigningDetails:Landroid/content/pm/SigningDetails;
 
     :goto_18
@@ -16075,7 +16094,7 @@
 
     goto :goto_19
 
-    :cond_24
+    :cond_25
     invoke-static {}, Landroid/content/pm/parsing/result/ParseTypeImpl;->forDefaultParsing()Landroid/content/pm/parsing/result/ParseTypeImpl;
 
     move-result-object v0
@@ -16088,7 +16107,7 @@
 
     move-result v4
 
-    if-nez v4, :cond_8e
+    if-nez v4, :cond_8f
 
     invoke-interface {v0}, Landroid/content/pm/parsing/result/ParseResult;->getResult()Ljava/lang/Object;
 
@@ -16128,7 +16147,7 @@
 
     check-cast v14, Lcom/android/server/pm/PackageSetting;
 
-    if-eqz v0, :cond_27
+    if-eqz v0, :cond_28
 
     new-instance v14, Ljava/util/ArrayList;
 
@@ -16150,7 +16169,7 @@
 
     invoke-direct {v8, v4}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V
 
-    if-eqz v9, :cond_25
+    if-eqz v9, :cond_26
 
     array-length v4, v9
 
@@ -16159,7 +16178,7 @@
     const/4 v9, 0x0
 
     :goto_1a
-    if-ge v9, v4, :cond_25
+    if-ge v9, v4, :cond_26
 
     aget-object v19, v18, v9
 
@@ -16177,7 +16196,7 @@
 
     goto :goto_1a
 
-    :cond_25
+    :cond_26
     invoke-virtual {v2}, Lcom/android/server/pm/InstallRequest;->getUser()Landroid/os/UserHandle;
 
     move-result-object v4
@@ -16190,11 +16209,11 @@
 
     move-result v0
 
-    if-eqz v0, :cond_26
+    if-eqz v0, :cond_27
 
     goto :goto_1b
 
-    :cond_26
+    :cond_27
     const-string/jumbo v0, "PackageManager"
 
     const-string/jumbo v4, "This app installation is not allowed"
@@ -16234,9 +16253,9 @@
     .catch Landroid/os/RemoteException; {:try_start_3 .. :try_end_3} :catch_0
 
     :catch_0
-    :cond_27
+    :cond_28
     :goto_1b
-    if-eqz v11, :cond_29
+    if-eqz v11, :cond_2a
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getSigningDetails()Landroid/content/pm/SigningDetails;
 
@@ -16248,11 +16267,11 @@
 
     const/4 v4, 0x2
 
-    if-lt v0, v4, :cond_28
+    if-lt v0, v4, :cond_29
 
     goto :goto_1c
 
-    :cond_28
+    :cond_29
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -16287,17 +16306,17 @@
 
     throw v0
 
-    :cond_29
+    :cond_2a
     :goto_1c
     and-int/lit16 v0, v6, 0x80
 
-    if-eqz v0, :cond_2a
+    if-eqz v0, :cond_2b
 
     move/from16 v43, v25
 
     goto :goto_1d
 
-    :cond_2a
+    :cond_2b
     const/16 v43, 0x0
 
     :goto_1d
@@ -16306,7 +16325,7 @@
 
     move-result-object v0
 
-    if-eqz v0, :cond_2b
+    if-eqz v0, :cond_2c
 
     iget-object v0, v0, Lcom/android/server/pm/InstallSource;->mInitiatingPackageName:Ljava/lang/String;
 
@@ -16319,7 +16338,7 @@
 
     goto :goto_1f
 
-    :cond_2b
+    :cond_2c
     const/16 v42, 0x0
 
     :goto_1e
@@ -16362,11 +16381,11 @@
 
     const/4 v4, -0x1
 
-    if-ne v0, v4, :cond_2c
+    if-ne v0, v4, :cond_2d
 
     goto :goto_20
 
-    :cond_2c
+    :cond_2d
     :try_start_6
     iput v0, v2, Lcom/android/server/pm/InstallRequest;->mReturnCode:I
 
@@ -16416,7 +16435,7 @@
 
     move-result v4
 
-    if-nez v4, :cond_2e
+    if-nez v4, :cond_2f
 
     const-string/jumbo v4, "com.sec.android.app.samsungapps"
 
@@ -16428,11 +16447,11 @@
 
     move-result v4
 
-    if-eqz v4, :cond_2d
+    if-eqz v4, :cond_2e
 
     goto :goto_21
 
-    :cond_2d
+    :cond_2e
     const/4 v4, 0x0
 
     goto :goto_22
@@ -16442,14 +16461,14 @@
 
     goto :goto_23
 
-    :cond_2e
+    :cond_2f
     :goto_21
     move/from16 v4, v25
 
     :goto_22
-    if-eqz v0, :cond_30
+    if-eqz v0, :cond_31
 
-    if-eqz v4, :cond_30
+    if-eqz v4, :cond_31
 
     iget-object v0, v1, Lcom/android/server/pm/InstallPackageHelper;->mContext:Landroid/content/Context;
 
@@ -16473,7 +16492,7 @@
 
     move-result v0
 
-    if-eqz v0, :cond_2f
+    if-eqz v0, :cond_30
 
     const-string/jumbo v0, "PackageManager"
 
@@ -16485,7 +16504,7 @@
 
     goto :goto_25
 
-    :cond_2f
+    :cond_30
     const-string/jumbo v0, "PackageManager"
 
     const-string/jumbo v4, "This SmartSwitch installation is allowed"
@@ -16499,12 +16518,12 @@
     :goto_23
     invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
 
-    :cond_30
+    :cond_31
     :goto_24
     const/4 v0, 0x0
 
     :goto_25
-    if-nez v0, :cond_8d
+    if-nez v0, :cond_8e
 
     iget-object v0, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -16529,7 +16548,7 @@
 
     const/high16 v35, 0x200000
 
-    if-eqz v8, :cond_3f
+    if-eqz v8, :cond_40
 
     iget-object v8, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -16547,7 +16566,7 @@
 
     move-result v14
 
-    if-eqz v14, :cond_31
+    if-eqz v14, :cond_32
 
     iget-object v14, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -16557,7 +16576,7 @@
 
     move-result v14
 
-    if-eqz v14, :cond_31
+    if-eqz v14, :cond_32
 
     invoke-interface {v7, v8}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->setPackageName(Ljava/lang/String;)Lcom/android/internal/pm/parsing/pkg/ParsedPackage;
 
@@ -16578,19 +16597,19 @@
 
     goto/16 :goto_65
 
-    :cond_31
+    :cond_32
     :goto_26
-    if-eqz v0, :cond_32
+    if-eqz v0, :cond_33
 
     move/from16 v8, v25
 
     goto :goto_27
 
-    :cond_32
+    :cond_33
     const/4 v8, 0x0
 
     :goto_27
-    if-eqz v8, :cond_3e
+    if-eqz v8, :cond_3f
 
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->getTargetSdkVersion()I
 
@@ -16604,13 +16623,13 @@
 
     const/16 v6, 0x16
 
-    if-le v14, v6, :cond_34
+    if-le v14, v6, :cond_35
 
-    if-le v9, v6, :cond_33
+    if-le v9, v6, :cond_34
 
     goto :goto_28
 
-    :cond_33
+    :cond_34
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -16653,11 +16672,11 @@
 
     throw v0
 
-    :cond_34
+    :cond_35
     :goto_28
     sget-boolean v6, Lcom/samsung/android/rune/CoreRune;->SYSUI_GRADLE_BUILD:Z
 
-    if-eqz v6, :cond_35
+    if-eqz v6, :cond_36
 
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mInjector:Lcom/android/server/pm/PackageManagerServiceInjector;
 
@@ -16685,17 +16704,17 @@
 
     move-result v6
 
-    if-eqz v6, :cond_35
+    if-eqz v6, :cond_36
 
     move/from16 v6, v25
 
     goto :goto_29
 
-    :cond_35
+    :cond_36
     const/4 v6, 0x0
 
     :goto_29
-    if-eqz v3, :cond_36
+    if-eqz v3, :cond_37
 
     move/from16 v18, v6
 
@@ -16705,7 +16724,7 @@
 
     move-result v6
 
-    if-eqz v6, :cond_37
+    if-eqz v6, :cond_38
 
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mInjector:Lcom/android/server/pm/PackageManagerServiceInjector;
 
@@ -16725,16 +16744,16 @@
 
     move-result v6
 
-    if-eqz v6, :cond_37
+    if-eqz v6, :cond_38
 
     move/from16 v6, v25
 
     goto :goto_2a
 
-    :cond_36
+    :cond_37
     move/from16 v18, v6
 
-    :cond_37
+    :cond_38
     const/4 v6, 0x0
 
     :goto_2a
@@ -16742,19 +16761,19 @@
 
     move-result v19
 
-    if-eqz v19, :cond_39
+    if-eqz v19, :cond_3a
 
-    if-nez v18, :cond_39
+    if-nez v18, :cond_3a
 
     and-int v18, v38, v35
 
-    if-nez v18, :cond_39
+    if-nez v18, :cond_3a
 
-    if-eqz v6, :cond_38
+    if-eqz v6, :cond_39
 
     goto :goto_2b
 
-    :cond_38
+    :cond_39
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -16781,19 +16800,19 @@
 
     throw v0
 
-    :cond_39
+    :cond_3a
     :goto_2b
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isSdkLibrary()Z
 
     move-result v6
 
-    if-eqz v6, :cond_3d
+    if-eqz v6, :cond_3e
 
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->getPkg()Lcom/android/internal/pm/parsing/pkg/AndroidPackageInternal;
 
     move-result-object v6
 
-    if-eqz v6, :cond_3d
+    if-eqz v6, :cond_3e
 
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->getPkg()Lcom/android/internal/pm/parsing/pkg/AndroidPackageInternal;
 
@@ -16803,7 +16822,7 @@
 
     move-result v6
 
-    if-eqz v6, :cond_3d
+    if-eqz v6, :cond_3e
 
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->getPkg()Lcom/android/internal/pm/parsing/pkg/AndroidPackageInternal;
 
@@ -16819,13 +16838,13 @@
 
     move-result v8
 
-    if-ne v14, v9, :cond_3b
+    if-ne v14, v9, :cond_3c
 
-    if-eq v6, v8, :cond_3a
+    if-eq v6, v8, :cond_3b
 
     goto :goto_2d
 
-    :cond_3a
+    :cond_3b
     :goto_2c
     move/from16 v29, v10
 
@@ -16833,7 +16852,7 @@
 
     goto :goto_2f
 
-    :cond_3b
+    :cond_3c
     :goto_2d
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->getPkg()Lcom/android/internal/pm/parsing/pkg/AndroidPackageInternal;
 
@@ -16851,11 +16870,11 @@
 
     move-result v11
 
-    if-eq v10, v11, :cond_3c
+    if-eq v10, v11, :cond_3d
 
     goto :goto_2f
 
-    :cond_3c
+    :cond_3d
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -16918,13 +16937,13 @@
 
     throw v0
 
-    :cond_3d
+    :cond_3e
     :goto_2e
     move/from16 v18, v8
 
     goto :goto_2c
 
-    :cond_3e
+    :cond_3f
     move/from16 v38, v6
 
     goto :goto_2e
@@ -16934,7 +16953,7 @@
 
     goto :goto_30
 
-    :cond_3f
+    :cond_40
     move/from16 v38, v6
 
     move/from16 v29, v10
@@ -16944,13 +16963,13 @@
     const/4 v8, 0x0
 
     :goto_30
-    if-nez v0, :cond_40
+    if-nez v0, :cond_41
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isSdkLibrary()Z
 
     move-result v6
 
-    if-eqz v6, :cond_40
+    if-eqz v6, :cond_41
 
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mSharedLibraries:Lcom/android/server/pm/SharedLibrariesImpl;
 
@@ -16962,13 +16981,13 @@
 
     move-result-object v6
 
-    if-eqz v6, :cond_40
+    if-eqz v6, :cond_41
 
     invoke-virtual {v6}, Lcom/android/server/utils/WatchedLongSparseArray;->size()I
 
     move-result v9
 
-    if-lez v9, :cond_40
+    if-lez v9, :cond_41
 
     const/4 v9, 0x0
 
@@ -16992,7 +17011,7 @@
 
     goto :goto_31
 
-    :cond_40
+    :cond_41
     move-object v6, v0
 
     :goto_31
@@ -17000,7 +17019,7 @@
 
     move-result v9
 
-    if-eqz v9, :cond_41
+    if-eqz v9, :cond_42
 
     iget-object v9, v1, Lcom/android/server/pm/InstallPackageHelper;->mSharedLibraries:Lcom/android/server/pm/SharedLibrariesImpl;
 
@@ -17008,7 +17027,7 @@
 
     move-result-object v9
 
-    if-eqz v9, :cond_41
+    if-eqz v9, :cond_42
 
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -17022,8 +17041,8 @@
 
     move-result-object v6
 
-    :cond_41
-    if-eqz v6, :cond_45
+    :cond_42
+    if-eqz v6, :cond_46
 
     iget-object v9, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -17039,17 +17058,17 @@
 
     move-result v11
 
-    if-eqz v11, :cond_43
+    if-eqz v11, :cond_44
 
     invoke-virtual {v10, v6, v7}, Lcom/android/server/pm/KeySetManagerService;->checkUpgradeKeySetLocked(Lcom/android/server/pm/PackageSetting;Lcom/android/server/pm/pkg/AndroidPackage;)Z
 
     move-result v6
 
-    if-eqz v6, :cond_42
+    if-eqz v6, :cond_43
 
     goto :goto_33
 
-    :cond_42
+    :cond_43
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -17082,7 +17101,7 @@
     :try_end_8
     .catchall {:try_start_8 .. :try_end_8} :catchall_1
 
-    :cond_43
+    :cond_44
     :try_start_9
     iget-object v11, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -17096,13 +17115,13 @@
 
     const/4 v14, 0x2
 
-    if-ge v11, v14, :cond_44
+    if-ge v11, v14, :cond_45
 
     move/from16 v22, v25
 
     goto :goto_32
 
-    :cond_44
+    :cond_45
     const/16 v22, 0x0
 
     :goto_32
@@ -17130,7 +17149,7 @@
 
     move-result v6
 
-    if-eqz v6, :cond_45
+    if-eqz v6, :cond_46
 
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -17183,9 +17202,9 @@
 
     throw v1
 
-    :cond_45
+    :cond_46
     :goto_33
-    if-eqz v0, :cond_46
+    if-eqz v0, :cond_47
 
     invoke-virtual {v0}, Lcom/android/server/pm/PackageSetting;->isSystem()Z
 
@@ -17201,7 +17220,7 @@
 
     goto :goto_34
 
-    :cond_46
+    :cond_47
     const/4 v9, 0x0
 
     :goto_34
@@ -17209,13 +17228,13 @@
 
     move-result-object v0
 
-    if-nez v0, :cond_47
+    if-nez v0, :cond_48
 
     const/4 v0, 0x0
 
     goto :goto_35
 
-    :cond_47
+    :cond_48
     const-string/jumbo v6, "com.samsung.android.hasZippedOverlays"
 
     invoke-virtual {v0, v6}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;)Z
@@ -17223,7 +17242,7 @@
     move-result v0
 
     :goto_35
-    if-nez v0, :cond_8c
+    if-nez v0, :cond_8d
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPermissionGroups()Ljava/util/List;
 
@@ -17236,7 +17255,7 @@
     const/4 v6, 0x0
 
     :goto_36
-    if-ge v6, v0, :cond_4c
+    if-ge v6, v0, :cond_4d
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPermissionGroups()Ljava/util/List;
 
@@ -17272,7 +17291,7 @@
 
     move-result-object v6
 
-    if-eqz v6, :cond_4b
+    if-eqz v6, :cond_4c
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getTargetSdkVersion()I
 
@@ -17280,21 +17299,21 @@
 
     const/16 v11, 0x1f
 
-    if-lt v10, v11, :cond_48
+    if-lt v10, v11, :cond_49
 
     move/from16 v10, v25
 
     goto :goto_37
 
-    :cond_48
+    :cond_49
     const/4 v10, 0x0
 
     :goto_37
-    if-eqz v10, :cond_4b
+    if-eqz v10, :cond_4c
 
     iget-object v6, v6, Landroid/content/pm/PermissionGroupInfo;->packageName:Ljava/lang/String;
 
-    if-nez v8, :cond_49
+    if-nez v8, :cond_4a
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPackageName()Ljava/lang/String;
 
@@ -17304,18 +17323,18 @@
 
     move-result v10
 
-    if-nez v10, :cond_4b
+    if-nez v10, :cond_4c
 
-    :cond_49
+    :cond_4a
     invoke-virtual {v1, v6, v7, v12}, Lcom/android/server/pm/InstallPackageHelper;->doesSignatureMatchForPermissions(Ljava/lang/String;Lcom/android/internal/pm/parsing/pkg/ParsedPackage;I)Z
 
     move-result v10
 
-    if-eqz v10, :cond_4a
+    if-eqz v10, :cond_4b
 
     goto :goto_38
 
-    :cond_4a
+    :cond_4b
     const-string v0, "146211400"
 
     const/16 v34, -0x1
@@ -17378,13 +17397,13 @@
 
     throw v0
 
-    :cond_4b
+    :cond_4c
     :goto_38
     add-int/lit8 v6, v20, 0x1
 
     goto/16 :goto_36
 
-    :cond_4c
+    :cond_4d
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPermissions()Ljava/util/List;
 
     move-result-object v6
@@ -17396,7 +17415,7 @@
     add-int/lit8 v6, v6, -0x1
 
     :goto_39
-    if-ltz v6, :cond_58
+    if-ltz v6, :cond_59
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPermissions()Ljava/util/List;
 
@@ -17430,9 +17449,9 @@
 
     and-int/lit16 v14, v14, 0x1000
 
-    if-eqz v14, :cond_4d
+    if-eqz v14, :cond_4e
 
-    if-nez v9, :cond_4d
+    if-nez v9, :cond_4e
 
     const-string/jumbo v14, "PackageManager"
 
@@ -17484,13 +17503,13 @@
 
     goto :goto_3a
 
-    :cond_4d
+    :cond_4e
     move/from16 v20, v8
 
     move/from16 v21, v9
 
     :goto_3a
-    if-eqz v11, :cond_50
+    if-eqz v11, :cond_51
 
     invoke-virtual {v11}, Lcom/android/server/pm/permission/Permission;->getPackageName()Ljava/lang/String;
 
@@ -17500,7 +17519,7 @@
 
     move-result v9
 
-    if-nez v9, :cond_4f
+    if-nez v9, :cond_50
 
     const-string/jumbo v9, "android"
 
@@ -17508,7 +17527,7 @@
 
     move-result v9
 
-    if-eqz v9, :cond_4e
+    if-eqz v9, :cond_4f
 
     const-string/jumbo v8, "PackageManager"
 
@@ -17550,7 +17569,7 @@
 
     goto/16 :goto_3b
 
-    :cond_4e
+    :cond_4f
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -17599,7 +17618,7 @@
 
     throw v0
 
-    :cond_4f
+    :cond_50
     const-string/jumbo v8, "android"
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPackageName()Ljava/lang/String;
@@ -17610,7 +17629,7 @@
 
     move-result v8
 
-    if-nez v8, :cond_50
+    if-nez v8, :cond_51
 
     invoke-interface {v10}, Lcom/android/internal/pm/pkg/component/ParsedPermission;->getProtectionLevel()I
 
@@ -17620,13 +17639,13 @@
 
     move/from16 v9, v25
 
-    if-ne v8, v9, :cond_50
+    if-ne v8, v9, :cond_51
 
     invoke-virtual {v11}, Lcom/android/server/pm/permission/Permission;->isRuntime()Z
 
     move-result v8
 
-    if-nez v8, :cond_50
+    if-nez v8, :cond_51
 
     const-string/jumbo v8, "PackageManager"
 
@@ -17670,13 +17689,13 @@
 
     invoke-static {v10, v8}, Lcom/android/internal/pm/pkg/component/ComponentMutateUtils;->setProtectionLevel(Lcom/android/internal/pm/pkg/component/ParsedPermission;I)V
 
-    :cond_50
+    :cond_51
     :goto_3b
     invoke-interface {v10}, Lcom/android/internal/pm/pkg/component/ParsedPermission;->getGroup()Ljava/lang/String;
 
     move-result-object v8
 
-    if-eqz v8, :cond_57
+    if-eqz v8, :cond_58
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getTargetSdkVersion()I
 
@@ -17684,22 +17703,22 @@
 
     const/16 v11, 0x1f
 
-    if-lt v8, v11, :cond_51
+    if-lt v8, v11, :cond_52
 
     const/4 v8, 0x1
 
     goto :goto_3c
 
-    :cond_51
+    :cond_52
     const/4 v8, 0x0
 
     :goto_3c
-    if-eqz v8, :cond_54
+    if-eqz v8, :cond_55
 
     const/4 v8, 0x0
 
     :goto_3d
-    if-ge v8, v0, :cond_53
+    if-ge v8, v0, :cond_54
 
     invoke-interface {v7}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPermissionGroups()Ljava/util/List;
 
@@ -17723,24 +17742,24 @@
 
     move-result v9
 
-    if-eqz v9, :cond_52
+    if-eqz v9, :cond_53
 
     const/4 v8, 0x1
 
     goto :goto_3e
 
-    :cond_52
+    :cond_53
     const/16 v25, 0x1
 
     add-int/lit8 v8, v8, 0x1
 
     goto :goto_3d
 
-    :cond_53
+    :cond_54
     const/4 v8, 0x0
 
     :goto_3e
-    if-nez v8, :cond_54
+    if-nez v8, :cond_55
 
     iget-object v8, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -17766,7 +17785,7 @@
 
     const/16 v9, -0x7f
 
-    if-eqz v8, :cond_56
+    if-eqz v8, :cond_57
 
     iget-object v8, v8, Landroid/content/pm/PermissionGroupInfo;->packageName:Ljava/lang/String;
 
@@ -17776,15 +17795,15 @@
 
     move-result v14
 
-    if-nez v14, :cond_54
+    if-nez v14, :cond_55
 
     invoke-virtual {v1, v8, v7, v12}, Lcom/android/server/pm/InstallPackageHelper;->doesSignatureMatchForPermissions(Ljava/lang/String;Lcom/android/internal/pm/parsing/pkg/ParsedPackage;I)Z
 
     move-result v14
 
-    if-eqz v14, :cond_55
+    if-eqz v14, :cond_56
 
-    :cond_54
+    :cond_55
     const v8, 0x534e4554
 
     :goto_3f
@@ -17792,7 +17811,7 @@
 
     goto/16 :goto_40
 
-    :cond_55
+    :cond_56
     const-string v0, "146211400"
 
     const/16 v34, -0x1
@@ -17867,7 +17886,7 @@
 
     throw v0
 
-    :cond_56
+    :cond_57
     const-string v0, "146211400"
 
     const/16 v34, -0x1
@@ -17932,7 +17951,7 @@
 
     throw v0
 
-    :cond_57
+    :cond_58
     const v8, 0x534e4554
 
     const/16 v11, 0x1f
@@ -17950,7 +17969,7 @@
 
     goto/16 :goto_39
 
-    :cond_58
+    :cond_59
     move/from16 v20, v8
 
     move/from16 v21, v9
@@ -17961,7 +17980,7 @@
 
     sget-boolean v0, Lcom/android/server/pm/PackageManagerService;->DEBUG_COMPRESSION:Z
 
-    if-eqz v20, :cond_59
+    if-eqz v20, :cond_5a
 
     const-string/jumbo v0, "application_policy"
 
@@ -17973,7 +17992,7 @@
 
     move-result-object v0
 
-    if-eqz v0, :cond_59
+    if-eqz v0, :cond_5a
 
     const/4 v9, 0x1
 
@@ -17982,7 +18001,7 @@
 
     move-result v0
 
-    if-nez v0, :cond_59
+    if-nez v0, :cond_5a
 
     const-string/jumbo v0, "PackageManager"
 
@@ -18005,7 +18024,7 @@
 
     invoke-static {v0, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_59
+    :cond_5a
     const-string/jumbo v0, "restriction_policy"
 
     invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
@@ -18016,7 +18035,7 @@
 
     move-result-object v0
 
-    if-eqz v0, :cond_5b
+    if-eqz v0, :cond_5c
 
     :try_start_e
     invoke-virtual {v2}, Lcom/android/server/pm/InstallRequest;->getUser()Landroid/os/UserHandle;
@@ -18033,13 +18052,13 @@
 
     move-result v4
 
-    if-nez v4, :cond_5b
+    if-nez v4, :cond_5c
 
     invoke-static {v7}, Lcom/android/server/pm/InstallPackageHelper;->isAdminApplication(Lcom/android/server/pm/pkg/AndroidPackage;)Z
 
     move-result v4
 
-    if-eqz v4, :cond_5b
+    if-eqz v4, :cond_5c
 
     invoke-virtual {v2}, Lcom/android/server/pm/InstallRequest;->getUser()Landroid/os/UserHandle;
 
@@ -18057,11 +18076,11 @@
 
     move-result v4
 
-    if-eqz v4, :cond_5a
+    if-eqz v4, :cond_5b
 
     goto :goto_41
 
-    :cond_5a
+    :cond_5b
     const-string/jumbo v4, "PackageManager"
 
     const-string/jumbo v6, "This admin app installation is not allowed"
@@ -18091,17 +18110,17 @@
     .catch Landroid/os/RemoteException; {:try_start_e .. :try_end_e} :catch_6
 
     :catch_6
-    :cond_5b
+    :cond_5c
     :goto_41
-    if-eqz v21, :cond_5e
+    if-eqz v21, :cond_5f
 
-    if-nez v29, :cond_5d
+    if-nez v29, :cond_5e
 
-    if-nez v30, :cond_5c
+    if-nez v30, :cond_5d
 
     goto :goto_42
 
-    :cond_5c
+    :cond_5d
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     const-string v1, "Cannot update a system app with an instant app"
@@ -18112,7 +18131,7 @@
 
     throw v0
 
-    :cond_5d
+    :cond_5e
     invoke-virtual {v2}, Lcom/android/server/pm/InstallRequest;->getUser()Landroid/os/UserHandle;
 
     move-result-object v0
@@ -18143,13 +18162,13 @@
 
     throw v0
 
-    :cond_5e
+    :cond_5f
     :goto_42
     invoke-virtual {v2}, Lcom/android/server/pm/InstallRequest;->isInstallMove()Z
 
     move-result v0
 
-    if-eqz v0, :cond_61
+    if-eqz v0, :cond_62
 
     or-int/lit16 v0, v12, 0x101
 
@@ -18170,7 +18189,7 @@
 
     move-result-object v6
 
-    if-nez v6, :cond_5f
+    if-nez v6, :cond_60
 
     new-instance v6, Ljava/lang/StringBuilder;
 
@@ -18201,7 +18220,7 @@
 
     goto :goto_44
 
-    :cond_5f
+    :cond_60
     invoke-virtual {v6}, Lcom/android/server/pm/PackageSetting;->getPrimaryCpuAbiLegacy()Ljava/lang/String;
 
     move-result-object v3
@@ -18219,7 +18238,7 @@
     :goto_43
     monitor-exit v4
 
-    :cond_60
+    :cond_61
     move-object v6, v7
 
     goto/16 :goto_4b
@@ -18233,12 +18252,12 @@
 
     throw v0
 
-    :cond_61
+    :cond_62
     const/16 v25, 0x1
 
     or-int/lit8 v0, v12, 0x1
 
-    if-nez v15, :cond_60
+    if-nez v15, :cond_61
 
     :try_start_10
     iget-object v4, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
@@ -18264,32 +18283,32 @@
     :try_end_11
     .catchall {:try_start_11 .. :try_end_11} :catchall_4
 
-    if-eqz v3, :cond_62
+    if-eqz v3, :cond_63
 
     :try_start_12
     invoke-virtual {v3}, Lcom/android/server/pm/PackageSetting;->isUpdatedSystemApp()Z
 
     move-result v4
 
-    if-eqz v4, :cond_62
+    if-eqz v4, :cond_63
 
     const/4 v4, 0x1
 
     goto :goto_45
 
-    :cond_62
+    :cond_63
     const/4 v4, 0x0
 
     :goto_45
     iget-object v6, v2, Lcom/android/server/pm/InstallRequest;->mInstallArgs:Lcom/android/server/pm/InstallArgs;
 
-    if-nez v6, :cond_63
+    if-nez v6, :cond_64
 
     const/4 v6, 0x0
 
     goto :goto_46
 
-    :cond_63
+    :cond_64
     iget-object v6, v6, Lcom/android/server/pm/InstallArgs;->mAbiOverride:Ljava/lang/String;
 
     :goto_46
@@ -18301,46 +18320,46 @@
 
     move-result v8
 
-    if-eqz v8, :cond_64
+    if-eqz v8, :cond_65
 
     const/16 v30, 0x0
 
     goto :goto_47
 
-    :cond_64
+    :cond_65
     move-object/from16 v30, v6
 
     :goto_47
-    if-eqz v3, :cond_65
+    if-eqz v3, :cond_66
 
     invoke-virtual {v3}, Lcom/android/server/pm/PackageSetting;->isSystem()Z
 
     move-result v3
 
-    if-eqz v3, :cond_65
+    if-eqz v3, :cond_66
 
     const/4 v3, 0x1
 
     goto :goto_48
 
-    :cond_65
+    :cond_66
     const/4 v3, 0x0
 
     :goto_48
     iget-object v6, v1, Lcom/android/server/pm/InstallPackageHelper;->mPackageAbiHelper:Lcom/android/server/pm/PackageAbiHelperImpl;
 
-    if-nez v4, :cond_67
+    if-nez v4, :cond_68
 
-    if-eqz v3, :cond_66
+    if-eqz v3, :cond_67
 
     goto :goto_49
 
-    :cond_66
+    :cond_67
     const/16 v29, 0x0
 
     goto :goto_4a
 
-    :cond_67
+    :cond_68
     :goto_49
     const/16 v29, 0x1
 
@@ -18440,7 +18459,7 @@
     throw v0
 
     :goto_4b
-    if-eqz v15, :cond_68
+    if-eqz v15, :cond_69
 
     iget-object v3, v2, Lcom/android/server/pm/InstallRequest;->mApexInfo:Landroid/apex/ApexInfo;
 
@@ -18454,8 +18473,8 @@
 
     invoke-interface {v6, v3}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->setBaseApkPath(Ljava/lang/String;)Lcom/android/internal/pm/parsing/pkg/ParsedPackage;
 
-    :cond_68
-    if-eqz v20, :cond_89
+    :cond_69
+    if-eqz v20, :cond_8a
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPackageName()Ljava/lang/String;
 
@@ -18490,17 +18509,17 @@
 
     move-result v8
 
-    if-eqz v8, :cond_6a
+    if-eqz v8, :cond_6b
 
-    if-eqz v4, :cond_6a
+    if-eqz v4, :cond_6b
 
     and-int/lit8 v4, v38, 0x20
 
-    if-eqz v4, :cond_69
+    if-eqz v4, :cond_6a
 
     goto :goto_4c
 
-    :cond_69
+    :cond_6a
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     const-string/jumbo v1, "Packages declaring static-shared libs cannot be updated"
@@ -18511,17 +18530,17 @@
 
     throw v0
 
-    :cond_6a
+    :cond_6b
     :goto_4c
     and-int/lit16 v4, v0, 0x2000
 
-    if-eqz v4, :cond_6b
+    if-eqz v4, :cond_6c
 
     const/4 v4, 0x1
 
     goto :goto_4d
 
-    :cond_6b
+    :cond_6c
     const/4 v4, 0x0
 
     :goto_4d
@@ -18546,13 +18565,13 @@
 
     invoke-virtual {v10}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    if-nez v9, :cond_6c
+    if-nez v9, :cond_6d
 
     const/16 v33, 0x0
 
     goto :goto_4e
 
-    :cond_6c
+    :cond_6d
     iget-object v11, v9, Lcom/android/server/pm/PackageSetting;->mName:Ljava/lang/String;
 
     invoke-virtual {v10, v11}, Lcom/android/server/pm/Settings;->getDisabledSystemPkgLPr(Ljava/lang/String;)Lcom/android/server/pm/PackageSetting;
@@ -18580,17 +18599,17 @@
 
     move-result v10
 
-    if-eqz v10, :cond_6e
+    if-eqz v10, :cond_6f
 
     invoke-virtual {v11, v9, v6}, Lcom/android/server/pm/KeySetManagerService;->checkUpgradeKeySetLocked(Lcom/android/server/pm/PackageSetting;Lcom/android/server/pm/pkg/AndroidPackage;)Z
 
     move-result v10
 
-    if-eqz v10, :cond_6d
+    if-eqz v10, :cond_6e
 
     goto :goto_4f
 
-    :cond_6d
+    :cond_6e
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -18618,7 +18637,7 @@
 
     goto/16 :goto_61
 
-    :cond_6e
+    :cond_6f
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getSigningDetails()Landroid/content/pm/SigningDetails;
 
     move-result-object v10
@@ -18633,7 +18652,7 @@
 
     move-result v14
 
-    if-nez v14, :cond_70
+    if-nez v14, :cond_71
 
     const/16 v12, 0x8
 
@@ -18641,19 +18660,19 @@
 
     move-result v12
 
-    if-nez v12, :cond_70
+    if-nez v12, :cond_71
 
-    if-eqz v24, :cond_6f
+    if-eqz v24, :cond_70
 
     invoke-virtual {v11, v10}, Landroid/content/pm/SigningDetails;->hasAncestorOrSelf(Landroid/content/pm/SigningDetails;)Z
 
     move-result v10
 
-    if-eqz v10, :cond_6f
+    if-eqz v10, :cond_70
 
     goto :goto_4f
 
-    :cond_6f
+    :cond_70
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -18676,13 +18695,13 @@
 
     throw v0
 
-    :cond_70
+    :cond_71
     :goto_4f
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->getRestrictUpdateHash()[B
 
     move-result-object v10
 
-    if-eqz v10, :cond_73
+    if-eqz v10, :cond_74
 
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->isSystem()Z
 
@@ -18690,7 +18709,7 @@
     :try_end_16
     .catchall {:try_start_16 .. :try_end_16} :catchall_5
 
-    if-eqz v10, :cond_73
+    if-eqz v10, :cond_74
 
     :try_start_17
     const-string/jumbo v10, "SHA-512"
@@ -18717,7 +18736,7 @@
 
     move-result v11
 
-    if-nez v11, :cond_71
+    if-nez v11, :cond_72
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getSplitCodePaths()[Ljava/lang/String;
 
@@ -18728,7 +18747,7 @@
     const/4 v14, 0x0
 
     :goto_50
-    if-ge v14, v12, :cond_71
+    if-ge v14, v12, :cond_72
 
     aget-object v15, v11, v14
 
@@ -18748,7 +18767,7 @@
 
     goto :goto_50
 
-    :cond_71
+    :cond_72
     move/from16 v18, v4
 
     invoke-virtual {v10}, Ljava/security/MessageDigest;->digest()[B
@@ -18768,7 +18787,7 @@
 
     move-result v4
 
-    if-eqz v4, :cond_72
+    if-eqz v4, :cond_73
 
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->getRestrictUpdateHash()[B
 
@@ -18778,7 +18797,7 @@
 
     goto :goto_51
 
-    :cond_72
+    :cond_73
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -18824,7 +18843,7 @@
 
     throw v0
 
-    :cond_73
+    :cond_74
     move/from16 v18, v4
 
     :goto_51
@@ -18836,7 +18855,7 @@
 
     move-result-object v4
 
-    if-eqz v4, :cond_74
+    if-eqz v4, :cond_75
 
     iget-object v1, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -18850,7 +18869,7 @@
 
     goto :goto_52
 
-    :cond_74
+    :cond_75
     const-string v1, "<nothing>"
 
     :goto_52
@@ -18858,7 +18877,7 @@
 
     move-result-object v4
 
-    if-eqz v4, :cond_75
+    if-eqz v4, :cond_76
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getSharedUserId()Ljava/lang/String;
 
@@ -18866,7 +18885,7 @@
 
     goto :goto_53
 
-    :cond_75
+    :cond_76
     const-string v4, "<nothing>"
 
     :goto_53
@@ -18876,24 +18895,24 @@
 
     move-result v10
 
-    if-eqz v10, :cond_76
+    if-eqz v10, :cond_77
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isLeavingSharedUser()Z
 
     move-result v10
 
-    if-eqz v10, :cond_76
+    if-eqz v10, :cond_77
 
     const-string v4, "<nothing>"
 
-    :cond_76
+    :cond_77
     invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v10
 
     const/16 v11, -0x18
 
-    if-nez v10, :cond_78
+    if-nez v10, :cond_79
 
     const-string v10, "<nothing>"
 
@@ -18901,23 +18920,23 @@
 
     move-result v10
 
-    if-eqz v10, :cond_77
+    if-eqz v10, :cond_78
 
     invoke-virtual {v9}, Lcom/android/server/pm/PackageSetting;->getPkg()Lcom/android/internal/pm/parsing/pkg/AndroidPackageInternal;
 
     move-result-object v10
 
-    if-nez v10, :cond_77
+    if-nez v10, :cond_78
 
     invoke-virtual {v9, v5}, Lcom/android/server/pm/PackageSetting;->isArchivedOnAnyUser([I)Z
 
     move-result v10
 
-    if-eqz v10, :cond_77
+    if-eqz v10, :cond_78
 
     goto :goto_54
 
-    :cond_77
+    :cond_78
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v2, Ljava/lang/StringBuilder;
@@ -18954,26 +18973,26 @@
 
     throw v0
 
-    :cond_78
+    :cond_79
     :goto_54
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->isLeavingSharedUser()Z
 
     move-result v1
 
-    if-eqz v1, :cond_79
+    if-eqz v1, :cond_7a
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->isLeavingSharedUser()Z
 
     move-result v1
 
-    if-eqz v1, :cond_7a
+    if-eqz v1, :cond_7b
 
-    :cond_79
+    :cond_7a
     const/4 v12, 0x1
 
     goto :goto_55
 
-    :cond_7a
+    :cond_7b
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -19015,20 +19034,20 @@
 
     move-result-object v4
 
-    if-eqz v18, :cond_7e
+    if-eqz v18, :cond_7f
 
     iget v10, v2, Lcom/android/server/pm/InstallRequest;->mUserId:I
 
     const/4 v11, -0x1
 
-    if-ne v10, v11, :cond_7c
+    if-ne v10, v11, :cond_7d
 
     array-length v10, v5
 
     move v11, v14
 
     :goto_56
-    if-ge v11, v10, :cond_7e
+    if-ge v11, v10, :cond_7f
 
     aget v12, v5, v11
 
@@ -19036,7 +19055,7 @@
 
     move-result v15
 
-    if-eqz v15, :cond_7b
+    if-eqz v15, :cond_7c
 
     const/16 v25, 0x1
 
@@ -19044,7 +19063,7 @@
 
     goto :goto_56
 
-    :cond_7b
+    :cond_7c
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -19075,16 +19094,16 @@
 
     throw v0
 
-    :cond_7c
+    :cond_7d
     invoke-virtual {v9, v10}, Lcom/android/server/pm/PackageSetting;->getInstantApp(I)Z
 
     move-result v5
 
-    if-eqz v5, :cond_7d
+    if-eqz v5, :cond_7e
 
     goto :goto_57
 
-    :cond_7d
+    :cond_7e
     const-string/jumbo v0, "PackageManager"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -19117,7 +19136,7 @@
 
     throw v0
 
-    :cond_7e
+    :cond_7f
     :goto_57
     monitor-exit v8
     :try_end_18
@@ -19153,13 +19172,13 @@
 
     move-result-object v5
 
-    if-eqz v5, :cond_7f
+    if-eqz v5, :cond_80
 
     const/4 v5, 0x1
 
     goto :goto_58
 
-    :cond_7f
+    :cond_80
     move v5, v14
 
     :goto_58
@@ -19184,7 +19203,7 @@
     :goto_59
     array-length v8, v1
 
-    if-ge v5, v8, :cond_80
+    if-ge v5, v8, :cond_81
 
     aget v8, v1, v5
 
@@ -19202,7 +19221,7 @@
 
     goto :goto_59
 
-    :cond_80
+    :cond_81
     new-instance v1, Landroid/util/SparseIntArray;
 
     array-length v5, v4
@@ -19216,7 +19235,7 @@
     :goto_5a
     array-length v5, v4
 
-    if-ge v1, v5, :cond_81
+    if-ge v1, v5, :cond_82
 
     aget v5, v4, v1
 
@@ -19234,7 +19253,7 @@
 
     goto :goto_5a
 
-    :cond_81
+    :cond_82
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->isExternalStorage()Z
 
     move-result v1
@@ -19253,7 +19272,7 @@
 
     move-result v1
 
-    if-eqz v1, :cond_88
+    if-eqz v1, :cond_89
 
     invoke-virtual {v7}, Lcom/android/server/pm/PackageSetting;->isPrivileged()Z
 
@@ -19281,71 +19300,71 @@
 
     or-int v0, v0, v16
 
-    if-eqz v3, :cond_82
+    if-eqz v3, :cond_83
 
     const/high16 v17, 0x20000
 
     goto :goto_5b
 
-    :cond_82
+    :cond_83
     move/from16 v17, v14
 
     :goto_5b
     or-int v0, v0, v17
 
-    if-eqz v4, :cond_83
+    if-eqz v4, :cond_84
 
     const/high16 v3, 0x40000
 
     goto :goto_5c
 
-    :cond_83
+    :cond_84
     move v3, v14
 
     :goto_5c
     or-int/2addr v0, v3
 
-    if-eqz v5, :cond_84
+    if-eqz v5, :cond_85
 
     const/high16 v3, 0x80000
 
     goto :goto_5d
 
-    :cond_84
+    :cond_85
     move v3, v14
 
     :goto_5d
     or-int/2addr v0, v3
 
-    if-eqz v8, :cond_85
+    if-eqz v8, :cond_86
 
     const/high16 v3, 0x100000
 
     goto :goto_5e
 
-    :cond_85
+    :cond_86
     move v3, v14
 
     :goto_5e
     or-int/2addr v0, v3
 
-    if-eqz v10, :cond_86
+    if-eqz v10, :cond_87
 
     const/high16 v3, 0x400000
 
     goto :goto_5f
 
-    :cond_86
+    :cond_87
     move v3, v14
 
     :goto_5f
     or-int/2addr v0, v3
 
-    if-eqz v11, :cond_87
+    if-eqz v11, :cond_88
 
     move/from16 v14, v35
 
-    :cond_87
+    :cond_88
     or-int/2addr v0, v14
 
     const/4 v12, 0x1
@@ -19358,7 +19377,7 @@
 
     invoke-virtual {v2, v3}, Lcom/android/server/pm/InstallRequest;->setApexModuleName(Ljava/lang/String;)V
 
-    :cond_88
+    :cond_89
     move-object v5, v7
 
     move-object v10, v9
@@ -19394,7 +19413,7 @@
 
     throw v0
 
-    :cond_89
+    :cond_8a
     const/4 v14, 0x0
 
     invoke-interface {v6}, Lcom/android/internal/pm/parsing/pkg/ParsedPackage;->getPackageName()Ljava/lang/String;
@@ -19418,7 +19437,7 @@
 
     move-result-object v4
 
-    if-nez v4, :cond_8b
+    if-nez v4, :cond_8c
 
     iget-object v1, v1, Lcom/android/server/pm/InstallPackageHelper;->mPm:Lcom/android/server/pm/PackageManagerService;
 
@@ -19428,7 +19447,7 @@
 
     move-result v1
 
-    if-nez v1, :cond_8a
+    if-nez v1, :cond_8b
 
     monitor-exit v5
     :try_end_1b
@@ -19465,7 +19484,7 @@
 
     goto :goto_64
 
-    :cond_8a
+    :cond_8b
     move-object v1, v2
 
     :try_start_1c
@@ -19515,7 +19534,7 @@
 
     throw v0
 
-    :cond_8b
+    :cond_8c
     move-object v1, v2
 
     invoke-virtual {v1}, Lcom/android/server/pm/InstallRequest;->getUser()Landroid/os/UserHandle;
@@ -19575,7 +19594,7 @@
 
     throw v0
 
-    :cond_8c
+    :cond_8d
     :try_start_1d
     new-instance v0, Lcom/android/server/pm/PrepareFailure;
 
@@ -19612,7 +19631,7 @@
 
     throw v0
 
-    :cond_8d
+    :cond_8e
     move-object v1, v2
 
     move-object v6, v7
@@ -19647,7 +19666,7 @@
 
     throw v0
 
-    :cond_8e
+    :cond_8f
     new-instance v1, Lcom/android/server/pm/PrepareFailure;
 
     const-string v2, "Failed collect during installPackageLI"
@@ -19660,7 +19679,7 @@
 
     throw v1
 
-    :cond_8f
+    :cond_90
     const/16 v8, -0x6e
 
     const-string/jumbo v0, "This app installation is not allowed"
@@ -19675,18 +19694,18 @@
 
     throw v1
 
-    :cond_90
+    :cond_91
     move-object v1, v2
 
-    if-eqz v0, :cond_93
+    if-eqz v0, :cond_94
 
     const/4 v12, 0x1
 
-    if-eq v0, v12, :cond_92
+    if-eq v0, v12, :cond_93
 
     const/4 v14, 0x2
 
-    if-eq v0, v14, :cond_91
+    if-eq v0, v14, :cond_92
 
     invoke-static {v0}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
 
@@ -19694,17 +19713,17 @@
 
     goto :goto_66
 
-    :cond_91
+    :cond_92
     const-string v0, "INSTALL_NOT_ALLOWED_UNINSTALL_FOR_GUEST"
 
     goto :goto_66
 
-    :cond_92
+    :cond_93
     const-string v0, "INSTALL_NOT_ALLOWED_INSTALL_ONLY_OWNER"
 
     goto :goto_66
 
-    :cond_93
+    :cond_94
     const-string v0, "INSTALL_ALLOWD"
 
     :goto_66
-- 
2.51.1

