From a33869484e38bc2a500ce22c47fcec3510b57f1f Mon Sep 17 00:00:00 2001
From: Salvo Giangreco <giangrecosalvo9@gmail.com>
Date: Fri, 10 Oct 2025 10:45:12 +0200
Subject: [PATCH] Disable A11Y_COLOR_BOOL_SUPPORT_DMC_COLORWEAKNESS

---
 .../android/view/accessibility/A11yRune.smali | 39 ++++++++-----------
 1 file changed, 17 insertions(+), 22 deletions(-)

diff --git a/smali_classes4/android/view/accessibility/A11yRune.smali b/smali_classes4/android/view/accessibility/A11yRune.smali
index e59783dd..9f50e0c7 100644
--- a/smali_classes4/android/view/accessibility/A11yRune.smali
+++ b/smali_classes4/android/view/accessibility/A11yRune.smali
@@ -147,7 +147,7 @@
 
 # direct methods
 .method static constructor blacklist <clinit>()V
-    .locals 4
+    .locals 3
 
     const-string/jumbo v0, "ro.product.first_api_level"
 
@@ -159,50 +159,45 @@
 
     sput v0, Landroid/view/accessibility/A11yRune;->FIRST_API_LEVEL:I
 
-    const/4 v0, 0x1
+    const/4 v0, 0x0
 
     sput-boolean v0, Landroid/view/accessibility/A11yRune;->A11Y_COLOR_BOOL_SUPPORT_DMC_COLORWEAKNESS:Z
 
-    const/4 v1, 0x0
-
-    sput-boolean v1, Landroid/view/accessibility/A11yRune;->A11Y_COLOR_BOOL_SUPPORT_COLOR_FILTER_MDNIE_HW:Z
+    sput-boolean v0, Landroid/view/accessibility/A11yRune;->A11Y_COLOR_BOOL_SUPPORT_COLOR_FILTER_MDNIE_HW:Z
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
-    move-result-object v2
+    move-result-object v1
 
-    const-string v3, "SEC_FLOATING_FEATURE_FRAMEWORK_SUPPORT_FOLDABLE_TYPE_FLIP"
+    const-string v2, "SEC_FLOATING_FEATURE_FRAMEWORK_SUPPORT_FOLDABLE_TYPE_FLIP"
 
-    invoke-virtual {v2, v3}, Lcom/samsung/android/feature/SemFloatingFeature;->getBoolean(Ljava/lang/String;)Z
+    invoke-virtual {v1, v2}, Lcom/samsung/android/feature/SemFloatingFeature;->getBoolean(Ljava/lang/String;)Z
 
-    move-result v2
+    move-result v1
 
-    if-eqz v2, :cond_0
+    if-eqz v1, :cond_0
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
-    move-result-object v2
+    move-result-object v1
 
-    const-string v3, "SEC_FLOATING_FEATURE_LOCKSCREEN_CONFIG_SUBDISPLAY_POLICY"
+    const-string v2, "SEC_FLOATING_FEATURE_LOCKSCREEN_CONFIG_SUBDISPLAY_POLICY"
 
-    invoke-virtual {v2, v3}, Lcom/samsung/android/feature/SemFloatingFeature;->getString(Ljava/lang/String;)Ljava/lang/String;
+    invoke-virtual {v1, v2}, Lcom/samsung/android/feature/SemFloatingFeature;->getString(Ljava/lang/String;)Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v1
 
-    const-string v3, "LARGESCREEN"
+    const-string v2, "LARGESCREEN"
 
-    invoke-virtual {v2, v3}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v2}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v2
+    move-result v1
 
-    if-eqz v2, :cond_0
+    if-eqz v1, :cond_0
 
-    goto :goto_0
+    const/4 v0, 0x1
 
     :cond_0
-    move v0, v1
-
-    :goto_0
     sput-boolean v0, Landroid/view/accessibility/A11yRune;->A11Y_COMMON_BOOL_SUPPORT_LARGE_COVER_SCREEN_FLIP:Z
 
     const-string v0, "content://com.samsung.accessibility.provider/a11ysettings"
-- 
2.51.0

