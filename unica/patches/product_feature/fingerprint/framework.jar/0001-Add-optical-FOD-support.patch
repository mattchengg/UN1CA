From c7ef17e626c80f077ddf0d2ca27ae4653d560127 Mon Sep 17 00:00:00 2001
From: Salvo Giangreco <giangrecosalvo9@gmail.com>
Date: Sat, 30 Aug 2025 16:19:48 +0200
Subject: [PATCH] Add optical FOD support

---
 .../fingerprint/HidlFingerprintSensorConfig.smali      | 10 +++++-----
 .../SemFingerprintManager$Characteristics.smali        |  2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/smali_classes2/android/hardware/fingerprint/HidlFingerprintSensorConfig.smali b/smali_classes2/android/hardware/fingerprint/HidlFingerprintSensorConfig.smali
index 6a53a376..cc53932f 100644
--- a/smali_classes2/android/hardware/fingerprint/HidlFingerprintSensorConfig.smali
+++ b/smali_classes2/android/hardware/fingerprint/HidlFingerprintSensorConfig.smali
@@ -74,7 +74,7 @@
 .end method
 
 .method private blacklist mapHidlToAidlSensorConfiguration(Landroid/content/Context;)V
-    .locals 3
+    .locals 4
 
     new-instance v0, Landroid/hardware/biometrics/common/CommonProps;
 
@@ -146,11 +146,11 @@
 
     const/4 v2, 0x2
 
-    if-eq v1, v2, :cond_2
+    const/4 v3, 0x3
 
-    const/4 v2, 0x3
+    if-eq v1, v2, :cond_2
 
-    if-eq v1, v2, :cond_1
+    if-eq v1, v3, :cond_1
 
     const/4 v0, 0x4
 
@@ -169,7 +169,7 @@
     goto :goto_0
 
     :cond_2
-    iput-byte v2, p0, Landroid/hardware/fingerprint/HidlFingerprintSensorConfig;->sensorType:B
+    iput-byte v3, p0, Landroid/hardware/fingerprint/HidlFingerprintSensorConfig;->sensorType:B
 
     goto :goto_0
 
diff --git a/smali_classes6/com/samsung/android/bio/fingerprint/SemFingerprintManager$Characteristics.smali b/smali_classes6/com/samsung/android/bio/fingerprint/SemFingerprintManager$Characteristics.smali
index 43149059..da037562 100644
--- a/smali_classes6/com/samsung/android/bio/fingerprint/SemFingerprintManager$Characteristics.smali
+++ b/smali_classes6/com/samsung/android/bio/fingerprint/SemFingerprintManager$Characteristics.smali
@@ -94,7 +94,7 @@
 .method public whitelist getSensorType()I
     .locals 0
 
-    const/4 p0, 0x3
+    const/4 p0, 0x2
 
     return p0
 .end method
-- 
2.51.0

