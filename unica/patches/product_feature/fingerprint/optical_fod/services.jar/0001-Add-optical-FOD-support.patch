From bb86d86c2d1dde2455c30a5cb4074ca19ff9f124 Mon Sep 17 00:00:00 2001
From: Salvo Giangreco <giangrecosalvo9@gmail.com>
Date: Sat, 30 Aug 2025 16:30:44 +0200
Subject: [PATCH] Add optical FOD support

---
 .../android/server/biometrics/SemBiometricFeature.smali   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/smali/com/android/server/biometrics/SemBiometricFeature.smali b/smali/com/android/server/biometrics/SemBiometricFeature.smali
index 4353381e7..dbf549202 100644
--- a/smali/com/android/server/biometrics/SemBiometricFeature.smali
+++ b/smali/com/android/server/biometrics/SemBiometricFeature.smali
@@ -185,6 +185,8 @@
 
     sput-boolean v2, Lcom/android/server/biometrics/SemBiometricFeature;->FP_FEATURE_SENSOR_IS_IN_DISPLAY_TYPE:Z
 
+    sput-boolean v2, Lcom/android/server/biometrics/SemBiometricFeature;->FP_FEATURE_SENSOR_IS_OPTICAL:Z
+
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
     move-result-object v0
@@ -195,15 +197,13 @@
 
     move-result-object v0
 
-    const-string/jumbo v5, "optical"
+    const-string/jumbo v5, "ultrasonic"
 
     invoke-virtual {v0, v5}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v0
 
-    sput-boolean v0, Lcom/android/server/biometrics/SemBiometricFeature;->FP_FEATURE_SENSOR_IS_OPTICAL:Z
-
-    sput-boolean v2, Lcom/android/server/biometrics/SemBiometricFeature;->FP_FEATURE_SENSOR_IS_ULTRASONIC:Z
+    sput-boolean v0, Lcom/android/server/biometrics/SemBiometricFeature;->FP_FEATURE_SENSOR_IS_ULTRASONIC:Z
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
-- 
2.51.0

