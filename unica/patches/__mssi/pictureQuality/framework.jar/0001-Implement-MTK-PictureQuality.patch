From c9c343e696239c0c133a2d30e0e0718a9bef1bd8 Mon Sep 17 00:00:00 2001
From: Fede2782 <78815152+Fede2782@users.noreply.github.com>
Date: Mon, 20 Oct 2025 21:54:24 +0200
Subject: [PATCH] Implement MTK PictureQuality

---
 .../SemDisplayQualityFeature.smali            | 24 +++++++------------
 1 file changed, 9 insertions(+), 15 deletions(-)

diff --git a/smali_classes6/com/samsung/android/displayquality/SemDisplayQualityFeature.smali b/smali_classes6/com/samsung/android/displayquality/SemDisplayQualityFeature.smali
index e4780961..c278b696 100644
--- a/smali_classes6/com/samsung/android/displayquality/SemDisplayQualityFeature.smali
+++ b/smali_classes6/com/samsung/android/displayquality/SemDisplayQualityFeature.smali
@@ -12,7 +12,7 @@
 
 .field public static final blacklist DP_RATIO_SUPPORT:Z
 
-.field private static final blacklist DQ_SVC_FEATURE:Ljava/lang/String; = "LSI,dp_debug"
+.field private static final blacklist DQ_SVC_FEATURE:Ljava/lang/String; = "MTK"
 
 .field public static final blacklist ENABLED:Z = true
 
@@ -33,17 +33,15 @@
 
 # direct methods
 .method static constructor blacklist <clinit>()V
-    .locals 5
+    .locals 4
 
-    const-string v0, "LSI"
+    const-string v0, "MTK"
 
     sput-object v0, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->PLATFORM:Ljava/lang/String;
 
-    const-string v1, "LSI,dp_debug"
+    const-string v1, ","
 
-    const-string v2, ","
-
-    invoke-virtual {v1, v2}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
+    invoke-virtual {v0, v1}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
 
     move-result-object v1
 
@@ -65,9 +63,7 @@
     :goto_0
     sput-boolean v1, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->HAS_OPTION:Z
 
-    const-string v4, "MTK"
-
-    invoke-virtual {v0, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v0, v0}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v0
 
@@ -75,15 +71,13 @@
 
     if-nez v1, :cond_1
 
-    move v0, v2
-
     goto :goto_1
 
     :cond_1
-    move v0, v3
+    move v2, v3
 
     :goto_1
-    sput-boolean v0, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->OUTDOOR_VISIBILITY_SUPPORT:Z
+    sput-boolean v2, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->OUTDOOR_VISIBILITY_SUPPORT:Z
 
     sput-boolean v3, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->ADAPTIVE_SYNC_SUPPORT:Z
 
@@ -97,7 +91,7 @@
 
     sput-boolean v3, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->DP_RATIO_SUPPORT:Z
 
-    sput-boolean v2, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->DP_DEBUG_SUPPORT:Z
+    sput-boolean v3, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->DP_DEBUG_SUPPORT:Z
 
     sput-boolean v3, Lcom/samsung/android/displayquality/SemDisplayQualityFeature;->DP_BACKOFF_SUPPORT:Z
 
-- 
2.48.1

